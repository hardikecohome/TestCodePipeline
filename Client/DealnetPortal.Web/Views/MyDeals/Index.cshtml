@using DealnetPortal.Api.Common.Enumeration
<div id="label-steps">
    <div class="dealnet-action-link">@Resources.MyDeals</div> >
</div>

<div class="expand-filter-template">
    <h2 class="dealnet-middle-header">@Resources.Filter</h2>

    <div class="expand-filter-navigation">
        <a class="clear-data-link" id="clear-filters">
            <svg aria-hidden="true" class="icon icon-remove"><use xlink:href="@Url.Content("~/Content/images/sprite/sprite.svg#icon-remove")"></use></svg><span class="hidden-xs">@Resources.ClearFilters</span>
        </a>
        <!-- Nav tabs -->
        <ul class="nav nav-tabs" role="tablist">
            <li role="presentation" class="active"><a href="#deal-info-tab" aria-controls="deal-info-tab" role="tab" data-toggle="tab">@Resources.DealInfo</a></li>
            <li role="presentation"><a href="#detailed-info-tab" aria-controls="profile" role="tab" data-toggle="tab">@Resources.DetailedInfo</a></li>
        </ul>
    </div>

    <!-- Tab panes -->
    <div class="tab-content">
        <div role="tabpanel" class="tab-pane active" id="deal-info-tab">
            <div class="reset-form-inline">
                <div class="row">
                    <div class="col-sm-6 col-md-4">
                        <div class="form-group">
                            <label for="deal-type">@Resources.DealType</label>
                            <div class="control-group">
                                <select id="agreement-type" class="form-control select-filter filter-input"></select>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-2 col-sm-6">
                        <div class="form-group">
                            <label for="">@Resources.DateFrom</label>
                            <div class="control-group date-group">
                                <input type="text" class="form-control date-input filter-input" id="date-from">
                            </div>
                        </div>
                    </div>
                    <div class="col-md-2 col-sm-6">
                        <div class="form-group">
                            <label for="">@Resources.DateTo</label>
                            <div class="control-group date-group">
                                <input type="text" class="form-control date-input filter-input" id="date-to">
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6 col-md-4">
                        <div class="form-group">
                            <label for="">@Resources.DealStatus</label>
                            <div class="control-group">
                                <select id="deal-status" class="form-control select-filter filter-input"></select>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6 col-md-4 col-lg-4">
                        <div class="form-group">
                            <label for="">@Resources.ApplicationCreatedBy</label>
                            <div class="control-group">
                                <select class="form-control filter-input" id="created-by">
                                    <option value="">- @Resources.NotSelected -</option>
                                    <option value="true">@Resources.Customer</option>
                                    <option value="false">@Resources.DealerSalesAgent</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-offset-4 col-md-4 col-sm-6 text-right">
                        <div class="form-group">
                            <button class="btn dealnet-button dealnet-success-button block-button filter-button">@Resources.Filter</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div role="tabpanel" class="tab-pane" id="detailed-info-tab">
            <div class="reset-form-inline">
                <div class="row">
                    <div class="col-sm-6 col-md-4">
                        <div class="form-group">
                            <label for="">@Resources.SalesRep</label>
                            <div class="control-group">
                                <select class="form-control filter-input select-filter" id="sales-rep"></select>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-offset-4 col-md-4 col-sm-6 text-right">
                        <div class="form-group">
                            <button class="btn dealnet-button dealnet-success-button block-button filter-button">@Resources.Filter</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<table id="work-items-table" class="display responsive table-reports" width="100%">
    <thead>
        <tr>
            <th class="all checkbox-cell"></th>
            <th class="all contract-cell">@Resources.Contract&nbsp;#</th>
            <th class="all customer-cell">@Resources.Customer</th>
            <th class="min-mobile-l status-cell">@Resources.Status</th>
            <th class="min-desktop type-cell">@Resources.Type</th>
            <th class="min-desktop email-cell">@Resources.Email</th>
            <th class="min-desktop phone-cell">@Resources.Phone</th>
            <th class="min-desktop date-cell">@Resources.Date</th>
            <th class="min-desktop">@Resources.Equipment</th>
            <th class="min-desktop sales-rep-cell">@Resources.SalesRep</th>
            <th class="min-desktop">@Resources.Value</th>
            <th class="hidden">RemainingDescription</th>
            <th class="min-desktop hidden">PaymentType</th>
            <th class="all controls-cell"></th>
            <th class="id-cell hidden">@Resources.Id</th>
            <th class="hidden">IsCreatedByCustomer</th>
        </tr>
    </thead>
</table>

<div class="reports-table-footer">
    <div class="row">
        <div class="col-sm-8 col-sm-push-4 col-md-6 col-md-push-6 col-lg-6 col-lg-push-6">
            <div class="total-info">
                <div class="row additional-info">
                    <div class="col-sm-7">@Resources.TotalForSelected</div>
                    <div class="col-sm-5 text-right"><span id="selectedTotal"></span></div>
                </div>
                <div class="row">
                    <div class="col-sm-7">@Resources.GrandTotal</div>
                    <div class="col-sm-5 text-right"><span id="reports-grand-total"></span></div>
                </div>
            </div>
        </div>
        <div class="col-sm-4 col-sm-pull-8 col-md-6 col-md-pull-6 col-lg-6 col-lg-pull-6">
            <div class="row additional-info">
                <div class="col-md-5 col-md-push-5 col-lg-5 col-lg-push-5"><button class="btn dealnet-button dealnet-success-button block-button" id="export-excel">@Resources.ExportToExcel</button></div>
                <div class="col-md-5 col-md-pull-5 col-lg-5 col-lg-pull-5"><button class="btn dealnet-button dealnet-success-button block-button" id="preview-button">@Resources.Preview</button></div>
            </div>
        </div>
    </div>
</div>

@using (Html.BeginForm("ContractRemove", "NewRental", FormMethod.Post, new { id = "remove-contract-form" }))
{
    <input type="hidden" name="contractId" id="remove-contract" />
}

@using (Html.BeginForm("GetXlsxReport", "Reports", FormMethod.Post, new { id = "export-form" }))
{
    <div id="export-ids"></div>
}

@using (Html.BeginForm("Contract", "Reports", FormMethod.Post, new { id = "single-preview-form" }))
{
    <input type="hidden" name="contractId" id="contract-preview-id" />
}

@using (Html.BeginForm("Contracts", "Reports", FormMethod.Post, new { id = "multiple-preview-form" }))
{
    <div id="contract-preview-ids"></div>
}

@section Translations
{
    translations['NotSelected'] = "@Resources.NotSelected";
    translations['Search'] = "@Resources.Search";
    translations['Edit'] = "@Resources.Edit";
    translations['MyWorkItems'] = "@Resources.MyWorkItems";
    translations['Show'] = "@Resources.Show";
    translations['Entries'] = "@Resources.Entries";
    translations['NoMatchingRecordsFound'] = "@Resources.NoMatchingRecordsFound";
    translations['New'] = "@Resources.New";
    translations['Remove'] = "@Resources.Remove";
    translations['Error'] = "@Resources.Error";
    translations['AreYouSureYouWantToRemoveThisApplication'] = "@Resources.AreYouSureYouWantToRemoveThisApplication";
    translations['Reports'] = "@Resources.Reports";
    translations['Show'] = "@Resources.Show";
    translations['ExportAllToExcel'] = "@Resources.ExportAllToExcel";
}

@section Styles
{
    @Styles.Render("~/bundles/data-tables-content")
}

@section scripts
{
    <script type="text/javascript">
        var itemsUrl = '@Url.Action("GetWorkItems", "Home")';

        var editContractUrl = '@Url.Action("ContractEdit", "NewRental")';
        var contractPreviewUrl = '@Url.Action("Contract", "Reports")' + '/';
    </script>

    @Scripts.Render("~/bundles/data-tables-scripts")
    @Scripts.Render("~/bundles/my-deals")
}